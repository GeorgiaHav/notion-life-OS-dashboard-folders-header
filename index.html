<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Folders Navigation (Responsive Image Map)</title>
    <style>
      .map-wrap { max-width: 100%; }
      .map-wrap img { max-width: 100%; height: auto; display: block; }
      img { image-rendering: -webkit-optimize-contrast; }
    </style>
  </head>
  <body>
    <main>
      <div class="map-wrap">
        <img id="foldersNav" src="Folders-Navigation-Notion-V2.jpg" alt="Folders Navigation" usemap="#FoldersNavigationNotionV2jpg" />

        <map name="FoldersNavigationNotionV2jpg">
          <area shape="rect" data-original-coords="259,3,794,185" data-ref-width="2769" data-ref-height="676" coords="259,3,794,185" href="https://www.notion.so/23155cb7914381258ff5e67b18647feb?pvs=21" target="_blank" rel="noopener" />
          <area shape="rect" data-original-coords="2202,31,2698,222" data-ref-width="2769" data-ref-height="676" coords="2202,31,2698,222" href="https://www.notion.so/habits-23355cb79143819ba053c5c75c77613e" target="_blank" rel="noopener" />
          <area shape="rect" data-original-coords="1040,105,1509,276" data-ref-width="2769" data-ref-height="676" coords="1040,105,1509,276" href="https://www.notion.so/23155cb7914381d286bdcf8ca7546424?pvs=21" target="_blank" rel="noopener" />
          <area shape="rect" data-original-coords="1708,158,2142,322" data-ref-width="2769" data-ref-height="676" coords="1708,158,2142,322" href="https://www.notion.so/23455cb791438169bd18e93ccb3a8c70?pvs=21" target="_blank" rel="noopener" />
          <area shape="rect" data-original-coords="576,225,1036,444" data-ref-width="2769" data-ref-height="676" coords="576,225,1036,444" href="https://www.notion.so/23155cb791438091a056d2c59a823bc7?pvs=21" target="_blank" rel="noopener" />
          <area shape="rect" data-original-coords="1303,330,1874,537" data-ref-width="2769" data-ref-height="676" coords="1303,330,1874,537" href="https://www.notion.so/Sunsama-Workspace-24055cb79143804a95dede3d33d4eb15" target="_blank" rel="noopener" />
          <area shape="rect" data-original-coords="1972,397,2517,641" data-ref-width="2769" data-ref-height="676" coords="1972,397,2517,641" href="https://www.notion.so/Content-Planner-24855cb7914380d8931ff266451e75df?pvs=21" target="_blank" rel="noopener" />
          <area shape="rect" data-original-coords="12,247,514,525" data-ref-width="2769" data-ref-height="676" coords="12,247,514,525" href="https://www.notion.so/Resources-23155cb7914381a380f9e8af1107c381?pvs=21" target="_blank" rel="noopener" />
        </map>
      </div>
    </main>

    <script>
      (function () {
        const img = document.getElementById('foldersNav');
        const map = document.querySelector('map[name="FoldersNavigationNotionV2jpg"]');
        const areas = Array.from(map.querySelectorAll('area[data-original-coords]'));

        // Read reference size from the first area's data-ref-width/height
        const refW = parseInt(areas[0].getAttribute('data-ref-width'), 10);
        const refH = parseInt(areas[0].getAttribute('data-ref-height'), 10);

        function scaleAreas() {
          if (!img || !refW || !refH) return;
          const rect = img.getBoundingClientRect();
          const wScale = rect.width / refW;
          const hScale = rect.height / refH;
          areas.forEach(a => {
            const orig = a.dataset.originalCoords.split(',').map(Number);
            const scaled = [];
            for (let i = 0; i < orig.length; i += 2) {
              const x = Math.round(orig[i] * wScale);
              const y = Math.round(orig[i + 1] * hScale);
              scaled.push(x, y);
            }
            a.coords = scaled.join(',');
          });
        }

        function init() {
          if (img.complete) scaleAreas();
          else img.addEventListener('load', scaleAreas, { once: true });
        }

        window.addEventListener('resize', scaleAreas);
        const ro = new ResizeObserver(scaleAreas);
        ro.observe(img);
        document.addEventListener('DOMContentLoaded', init);

        // Ensure all clicks open outside Notion embed
        document.querySelectorAll('map area').forEach(a => {
          a.target = '_blank';
          a.rel = 'noopener';
          a.addEventListener('click', function (e) {
            if (window !== window.top) {
              e.preventDefault();
              try { window.open(a.href, '_blank', 'noopener'); } catch (_) { location.href = a.href; }
            }
          });
        });
      })();
    </script>
  </body>
</html>
